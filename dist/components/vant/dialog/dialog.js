"use strict";function getContext(){var e=getCurrentPages();return e[e.length-1]}var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var queue=[],Dialog=function e(t){return t=__assign(__assign({},e.currentOptions),t),new Promise(function(e,n){var o=t.context||getContext(),a=o.selectComponent(t.selector);delete t.context,delete t.selector,a?(a.setData(__assign({onCancel:n,onConfirm:e},t)),queue.push(a)):console.warn("未找到 van-dialog 节点，请确认 selector 及 context 是否正确")})};Dialog.defaultOptions={show:!0,title:"",width:null,message:"",zIndex:100,overlay:!0,selector:"#van-dialog",className:"",asyncClose:!1,transition:"scale",customStyle:"",messageAlign:"",overlayStyle:"",confirmButtonText:"确认",cancelButtonText:"取消",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,confirmButtonOpenType:""},Dialog.alert=Dialog,Dialog.confirm=function(e){return Dialog(__assign({showCancelButton:!0},e))},Dialog.close=function(){queue.forEach(function(e){e.close()}),queue=[]},Dialog.stopLoading=function(){queue.forEach(function(e){e.stopLoading()})},Dialog.setDefaultOptions=function(e){Object.assign(Dialog.currentOptions,e)},Dialog.resetDefaultOptions=function(){Dialog.currentOptions=__assign({},Dialog.defaultOptions)},Dialog.resetDefaultOptions(),exports.default=Dialog;